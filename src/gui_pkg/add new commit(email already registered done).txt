
    void forgot_pwd() throws ClassNotFoundException {
    String email = JOptionPane.showInputDialog("Enter your email:");
    
    if (email != null && !email.isEmpty()) {
        try {
            getCon();
            String sql = "SELECT * FROM registration_details WHERE email=?";
            ps = con.prepareStatement(sql);
            ps.setString(1, email);
            rs = ps.executeQuery();

            if (rs.next()) {
                String password = rs.getString("password");
                JOptionPane.showMessageDialog(null, "Your password is: " + password, "Password Recovery", JOptionPane.INFORMATION_MESSAGE);
            } else {
                JOptionPane.showMessageDialog(null, "Email not found.", "Error", JOptionPane.ERROR_MESSAGE);
            }
        } catch (SQLException ex) {
            Logger.getLogger(Con2.class.getName()).log(Level.SEVERE, null, ex);
        }
    } 
    else    {
        JOptionPane.showMessageDialog(null, "Invalid email.", "Error", JOptionPane.ERROR_MESSAGE);
        }
    }
}
